# DocMate

### Automatically generate documentation for Go projects with simple user input

## Table of Contents
- Overview
- Types of DocMate comments
- Generating documentation with DocMate
- Settings

## Overview

*An example of documentation that was actually generated by DocMate can be found in `INCLUDE PATH ONCE COMPLETE` in this repository*

DocMate uses specially-formatted comment blocks to generate documentation for Go projects:
```
/***
    -- PKG
    @package myPackage
    @desc This package does something
    @usage Implemented in certain code somewhere to do a thing
    @dep {
        @name myDependency
        @desc This dependency does a thing
        @link www.website.com
        @import github.com/user/dependency
    }
*/
```

*See more examples of DocMate comments and possible data points under `Types of DocMate comments`*

### **Important notes about comment structure**
- Notice how the multi-line comment indicator for DocMate comment blocks has 3 asterisks instead of 1:
    - `/***`
    - Standard multi-line comments in Go start like this:
        - `/*`
- The first "line" of your comment block should denote the type of comments you're making (eg. `-- PACKAGE`, `-- FILE`)
- It can be tedious to re-type words like `dependency` over and over again, so there are shorthands for most tag names (eg. `description`, `desc`, `d`)
- Some tags require more information than others, so they use "block statements" to encapsulate multiple data points under one tag. Look at the `dependency` tag, for example:
    - ```
        @dep {  // <------ One dependency tag can hold up to 4 data points
            @name myDependency
            @desc This dependency does a thing
            @link www.website.com
            @import github.com/user/dependency
        }
        ```
- Keep in mind that the comment structure, tags, headers, etc... are not customizable and should be followed. There is no room for customizability, but all the possible data points you can add and required structure are listed below.
- The DocMate lexer and parser do not care about horizontal whitespace, so feel free to tab and space as much as you'd like.
    - **However**, newlines (returns) are considered by the parser, so keep different tags on different lines!
- DocMate will automatically generate (a default) or load your preexisting settings from a file `settings.json`. While it is safe to remove this file if you want to, it must remain in the root directory to be considered. Feel free to alter settings to your liking, though!
    - An explaination of settings can be found below
- If a comment's package cannot be assigned, it will be placed under the `main` package
- Make sure to separate every data point onto separate lines. The reason for this is to allow you to use the `@` symbol in your inputs (if you could write multiple tags on the same line you wouldn't be able to use `@`). So, don't do this:
    - ```
        @file main.go @desc Initializes the database connection, sets up the HTTP server, and routes requests to the handlers.
      ```
    - Because of this decision, feel free to include the `@` symbol on the same line as your tag.
        - Maybe an email, social media handles, decorators or command symbols, whatever...
- **Please** inspect `internal/parser/parser.go` to find out more about how the syntax is parsed and the syntactical rules for DocMate.

## Types of DocMate comments
- Package
    - *Describes the high-level package information*
    - Tags:
        - Name
            - `name`, `package`, `n`, `p`
        - Description
            - `description`, `desc`
        - Usage
            - `usage`, `u`
        - Dependencies
            - `dependency`, `dep`
            - Dependencies include multiple fields of information, including:
                - `name`, `n`
                - `description`, `desc`, `d`
                - `link`, `l`
                    - Link to the external page for the dependency
                - `import`, `i`
                    - Import path for Go (eg. "github.com/ajtroup1/mydep")
    - Example:
        ```
        /***
            -- PKG
            @package myPackage
            @desc This package does something
            @usage Implemented in certain code somewhere to do a thing
            @dep {
                @name myDependency
                @desc This dependency does a thing
                @link www.website.com
                @import github.com/user/dependency
            }
        */
        ```

- File
    - *Describes the high-level information for a file*
    - Tags:
        - Name
            - `name`, `file`, `n`, `f`
        - Description
            - `description`, `desc`
        - Author
            - `author`, `auth`, `a`
        - Version
            - `version`, `v`
        - Date
            - `date`
    - Example:
        ```
        /***
            -- FILE
            @f myFile
            @desc This file has code that does X
            @auth John Smith
            @dep {
                @name myDependency
                @desc This dependency does a thing
                @link www.website.com
                @import github.com/user/dependency
            }
        */
        ```

## Settings
A list of all settings includes:
- Your project's name
    - This will dictate the title that appears in the generated documentation
- A path to the repository that contains all DocMate comments (your entire project to be evaluated and generated into documentation)
- Project image link
    - You can link either an externally hosted image or image placed within the repo to be the project's 'icon'. This will be displayed throughout the documentaion in an image tag, so envision the src attribute as how you allocate the image path in this setting.
- Output path
    - This simply designates where the output location for the save data will lie. The "save data" is created when you run `make save`, and is stored in a json (located in output path). This json stores the heirarchal data necessary to generate your documentation. If you want this output to be store somewhere specific, change this value.
- Include test
    - This setting denotes whether comments in any file appended with `_test` will be considered in generation.
        - For example, if a file is named `handler_test` and IncludeTests is set to `false`, that entire file will not be read by the DocMate lexer.
- Capitalize items
    - A lot of names for items such as packages or files are usually lowercase by convention. If you wish to present these item names as capitalizations in the documentation, set this value to true.
        - Example:
            - Without CapitalizeItems (how code is traditionally typed): `package main`, `file myFile`
            - With CapitalizeItems: `package Main`, `file MyFile`
        - Example in the documentation:
            - With capitalization: "### Package-Level Functions for `Package1`"
            - Without capitalization: "### Package-Level Functions for `package1`"

<!-- <img src="./design/DocMate data diagram (AST).png"/> -->

### Development notes
#### Todo:
- [ ] Parsing
    - [x] Lexing
    - [ ] Into AST
- [ ] Generation
- [ ] Example Doc Template
- If anyone is reading this and wondering why I would bother to make extensive documentation, I plan to extend this project in the future and this will serve as a great "roadmap" and detail my success criteria.